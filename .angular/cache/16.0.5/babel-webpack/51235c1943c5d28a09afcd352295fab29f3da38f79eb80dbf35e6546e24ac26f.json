{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../feedback.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"endForm\"];\nfunction SatisfactionSurveyComponent_div_0_label_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 23)(1, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function SatisfactionSurveyComponent_div_0_label_9_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.survey.ratingEstablishment = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rating_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.survey.ratingEstablishment)(\"value\", rating_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", rating_r7, \" \");\n  }\n}\nfunction SatisfactionSurveyComponent_div_0_label_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 23)(1, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function SatisfactionSurveyComponent_div_0_label_14_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.survey.ratingService = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rating_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.survey.ratingService)(\"value\", rating_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", rating_r10, \" \");\n  }\n}\nfunction SatisfactionSurveyComponent_div_0_label_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 23)(1, \"input\", 26);\n    i0.ɵɵlistener(\"ngModelChange\", function SatisfactionSurveyComponent_div_0_label_19_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.survey.ratingSupport = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rating_r13 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.survey.ratingSupport)(\"value\", rating_r13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", rating_r13, \" \");\n  }\n}\nfunction SatisfactionSurveyComponent_div_0_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \" O e-mail enviado \\u00E9 inv\\u00E1lido. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SatisfactionSurveyComponent_div_0_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1, \" Formul\\u00E1rio enviado com sucesso! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SatisfactionSurveyComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"h2\", 3);\n    i0.ɵɵtext(2, \"Pesquisa de Satisfa\\u00E7\\u00E3o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"form\", 5);\n    i0.ɵɵlistener(\"ngSubmit\", function SatisfactionSurveyComponent_div_0_Template_form_ngSubmit_4_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.submit());\n    });\n    i0.ɵɵelementStart(5, \"div\", 6)(6, \"label\", 7);\n    i0.ɵɵtext(7, \"Avalie do Estabelecimento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtemplate(9, SatisfactionSurveyComponent_div_0_label_9_Template, 3, 3, \"label\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 6)(11, \"label\", 10);\n    i0.ɵɵtext(12, \"Avalie do Servi\\u00E7o\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 8);\n    i0.ɵɵtemplate(14, SatisfactionSurveyComponent_div_0_label_14_Template, 3, 3, \"label\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 6)(16, \"label\", 11);\n    i0.ɵɵtext(17, \"Avalie do Atendimento\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 8);\n    i0.ɵɵtemplate(19, SatisfactionSurveyComponent_div_0_label_19_Template, 3, 3, \"label\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 12)(21, \"label\", 13);\n    i0.ɵɵtext(22, \"Nome\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function SatisfactionSurveyComponent_div_0_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.survey.nome = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 12)(25, \"label\", 15);\n    i0.ɵɵtext(26, \"E-mail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function SatisfactionSurveyComponent_div_0_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.survey.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(28, SatisfactionSurveyComponent_div_0_div_28_Template, 2, 0, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 12)(30, \"label\", 18);\n    i0.ɵɵtext(31, \"Coment\\u00E1rios\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"textarea\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function SatisfactionSurveyComponent_div_0_Template_textarea_ngModelChange_32_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.survey.comments = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(33, SatisfactionSurveyComponent_div_0_div_33_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementStart(34, \"div\", 21)(35, \"button\", 22);\n    i0.ɵɵtext(36, \"Enviar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.ratings);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.ratings);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.ratings);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.survey.nome);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.survey.email);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showInvalidEmailAlert);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.survey.comments);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showEmailSentAlert);\n  }\n}\nclass SatisfactionSurveyComponent {\n  constructor(feedbackService) {\n    this.feedbackService = feedbackService;\n    this.survey = {\n      ratingEstablishment: '',\n      ratingService: '',\n      ratingSupport: '',\n      comments: '',\n      nome: '',\n      email: ''\n    };\n    this.ratings = ['Ruim', 'Regular', 'Bom', 'Ótimo'];\n    this.showInvalidEmailAlert = false;\n    this.showEmailSentAlert = false;\n  }\n  ngOnInit() {\n    this.subscription = this.feedbackService.display$.subscribe(display => {\n      this.displaySurvey = display;\n    });\n  }\n  ngOnDestroy() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n  submit() {\n    if (this.survey.email && !this.validateEmail(this.survey.email)) {\n      this.showInvalidEmailAlert = true;\n    } else {\n      this.showInvalidEmailAlert = false;\n    }\n    this.feedbackService.addFeedback(this.survey);\n    this.showEmailSentAlert = true;\n    this.survey = {\n      ratingEstablishment: '',\n      ratingService: '',\n      ratingSupport: '',\n      comments: '',\n      nome: '',\n      email: ''\n    };\n    setTimeout(() => {\n      this.endForm?.nativeElement.scrollIntoView({\n        behavior: 'smooth'\n      });\n    });\n  }\n  validateEmail(email) {\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    return emailRegex.test(email);\n  }\n}\nSatisfactionSurveyComponent.ɵfac = function SatisfactionSurveyComponent_Factory(t) {\n  return new (t || SatisfactionSurveyComponent)(i0.ɵɵdirectiveInject(i1.FeedbackService));\n};\nSatisfactionSurveyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SatisfactionSurveyComponent,\n  selectors: [[\"app-satisfaction-survey\"]],\n  viewQuery: function SatisfactionSurveyComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.endForm = _t.first);\n    }\n  },\n  decls: 3,\n  vars: 1,\n  consts: [[\"class\", \"container my-4\", 4, \"ngIf\"], [\"endForm\", \"\"], [1, \"container\", \"my-4\"], [1, \"text-center\", \"mb-4\"], [1, \"mx-auto\", 2, \"width\", \"50%\"], [3, \"ngSubmit\"], [1, \"form-group\", 2, \"margin-bottom\", \"10px\"], [\"for\", \"ratingEstablishment\"], [\"data-toggle\", \"buttons\", 1, \"btn-group\", \"btn-group-toggle\", \"d-flex\", \"justify-content-center\"], [\"class\", \"btn btn-secondary\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"ratingService\"], [\"for\", \"ratingSupport\"], [1, \"form-group\", \"responsive-form-group\", 2, \"margin-bottom\", \"10px\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"nome\", \"name\", \"nome\", \"placeholder\", \"Opcional\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Opcional\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [\"for\", \"comments\"], [\"id\", \"comments\", \"name\", \"comments\", \"placeholder\", \"Deixe aqui seu elogio, reclama\\u00E7\\u00E3o ou sugest\\u00E3o.\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"alert alert-success mt-4\", 4, \"ngIf\"], [1, \"text-center\", \"mt-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"btn\", \"btn-secondary\"], [\"type\", \"radio\", \"name\", \"ratingEstablishment\", \"required\", \"\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"type\", \"radio\", \"name\", \"ratingService\", \"required\", \"\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"type\", \"radio\", \"name\", \"ratingSupport\", \"required\", \"\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [1, \"alert\", \"alert-warning\"], [1, \"alert\", \"alert-success\", \"mt-4\"]],\n  template: function SatisfactionSurveyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SatisfactionSurveyComponent_div_0_Template, 37, 8, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", null, 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.displaySurvey);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.RadioControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"-shadowcsshost-no-combinator {\\r\\n  display: block;\\r\\n  width: 100%;\\r\\n  background-color: #f2f2f2;\\r\\n  color: #000000;\\r\\n\\r\\n}\\r\\n\\r\\n a[_ngcontent-%COMP%] {\\r\\n  color: #696968;\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\n.alignment[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: flex-start;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n@media (max-width: 768px) {\\r\\n  .responsive-form-group[_ngcontent-%COMP%] {\\r\\n    margin-left: -10px;\\r\\n    margin-right: -10px;\\r\\n  }\\r\\n\\r\\n}\\r\\n\\r\\n@media (max-width: 500px) {\\r\\n  .responsive-form-group[_ngcontent-%COMP%] {\\r\\n    margin-left: -20%;\\r\\n    margin-right: -20%;\\r\\n  }\\r\\n\\r\\n}\\r\\n\\r\\n@media (max-width: 400px) {\\r\\n  .responsive-form-group[_ngcontent-%COMP%] {\\r\\n    margin-left: -35%;\\r\\n    margin-right: -35%;\\r\\n  }\\r\\n\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVlZGJhY2svc2F0aXNmYWN0aW9uLXN1cnZleS9zYXRpc2ZhY3Rpb24tc3VydmV5LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDO0VBQ0UsY0FBYztFQUNkLFdBQVc7RUFDWCx5QkFBeUI7RUFDekIsY0FBYzs7QUFFaEI7O0NBRUM7RUFDQyxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDJCQUEyQjtBQUM3Qjs7OztBQUlBO0VBQ0U7SUFDRSxrQkFBa0I7SUFDbEIsbUJBQW1CO0VBQ3JCOztBQUVGOztBQUVBO0VBQ0U7SUFDRSxpQkFBaUI7SUFDakIsa0JBQWtCO0VBQ3BCOztBQUVGOztBQUVBO0VBQ0U7SUFDRSxpQkFBaUI7SUFDakIsa0JBQWtCO0VBQ3BCOztBQUVGIiwic291cmNlc0NvbnRlbnQiOlsiLyogc2F0aXNmYWN0aW9uLXN1cnZleS5jb21wb25lbnQuY3NzICovXHJcbjo6bmctZGVlcCA6aG9zdCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcclxuICBjb2xvcjogIzAwMDAwMDtcclxuXHJcbn1cclxuXHJcbiBhIHtcclxuICBjb2xvcjogIzY5Njk2ODtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbi5hbGlnbm1lbnQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xyXG59XHJcblxyXG5cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gIC5yZXNwb25zaXZlLWZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0xMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAtMTBweDtcclxuICB9XHJcblxyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNTAwcHgpIHtcclxuICAucmVzcG9uc2l2ZS1mb3JtLWdyb3VwIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAtMjAlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAtMjAlO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA0MDBweCkge1xyXG4gIC5yZXNwb25zaXZlLWZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWxlZnQ6IC0zNSU7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IC0zNSU7XHJcbiAgfVxyXG5cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { SatisfactionSurveyComponent };","map":{"version":3,"mappings":"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","names":["i0","ɵɵelementStart","ɵɵlistener","SatisfactionSurveyComponent_div_0_label_9_Template_input_ngModelChange_1_listener","$event","ɵɵrestoreView","_r9","ctx_r8","ɵɵnextContext","ɵɵresetView","survey","ratingEstablishment","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","ctx_r2","rating_r7","ɵɵtextInterpolate1","SatisfactionSurveyComponent_div_0_label_14_Template_input_ngModelChange_1_listener","_r12","ctx_r11","ratingService","ctx_r3","rating_r10","SatisfactionSurveyComponent_div_0_label_19_Template_input_ngModelChange_1_listener","_r15","ctx_r14","ratingSupport","ctx_r4","rating_r13","SatisfactionSurveyComponent_div_0_Template_form_ngSubmit_4_listener","_r17","ctx_r16","submit","ɵɵtemplate","SatisfactionSurveyComponent_div_0_label_9_Template","SatisfactionSurveyComponent_div_0_label_14_Template","SatisfactionSurveyComponent_div_0_label_19_Template","SatisfactionSurveyComponent_div_0_Template_input_ngModelChange_23_listener","ctx_r18","nome","SatisfactionSurveyComponent_div_0_Template_input_ngModelChange_27_listener","ctx_r19","email","SatisfactionSurveyComponent_div_0_div_28_Template","SatisfactionSurveyComponent_div_0_Template_textarea_ngModelChange_32_listener","ctx_r20","comments","SatisfactionSurveyComponent_div_0_div_33_Template","ctx_r0","ratings","showInvalidEmailAlert","showEmailSentAlert","SatisfactionSurveyComponent","constructor","feedbackService","ngOnInit","subscription","display$","subscribe","display","displaySurvey","ngOnDestroy","unsubscribe","validateEmail","addFeedback","setTimeout","endForm","nativeElement","scrollIntoView","behavior","emailRegex","test","ɵɵdirectiveInject","i1","FeedbackService","selectors","viewQuery","SatisfactionSurveyComponent_Query","rf","ctx","SatisfactionSurveyComponent_div_0_Template","ɵɵelement"],"sourceRoot":"","sources":["C:\\Users\\55219\\Desktop\\Studio-Val-em-conclusao\\src\\app\\feedback\\satisfaction-survey\\satisfaction-survey.component.html","C:\\Users\\55219\\Desktop\\Studio-Val-em-conclusao\\src\\app\\feedback\\satisfaction-survey\\satisfaction-survey.component.ts"],"sourcesContent":["<!-- satisfaction-survey.component.html -->\r\n<div *ngIf=\"displaySurvey\" class=\"container my-4\">\r\n  <h2 class=\"text-center mb-4\">Pesquisa de Satisfação</h2>\r\n\r\n  <div class=\"mx-auto\" style=\"width: 50%; \">\r\n\r\n    <form (ngSubmit)=\"submit()\">\r\n\r\n      <!-- Os campos de avaliação -->\r\n      <div class=\"form-group\" style=\"margin-bottom: 10px;\">\r\n        <label for=\"ratingEstablishment\">Avalie do Estabelecimento</label>\r\n        <div class=\"btn-group btn-group-toggle d-flex justify-content-center\" data-toggle=\"buttons\">\r\n          <label class=\"btn btn-secondary\" *ngFor=\"let rating of ratings\">\r\n            <input type=\"radio\" name=\"ratingEstablishment\" [(ngModel)]=\"survey.ratingEstablishment\" [value]=\"rating\"\r\n              required>\r\n            {{rating}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Os campos de avaliação -->\r\n      <div class=\"form-group\" style=\"margin-bottom: 10px;\">\r\n        <label for=\"ratingService\">Avalie do Serviço</label>\r\n        <div class=\"btn-group btn-group-toggle d-flex justify-content-center\" data-toggle=\"buttons\">\r\n          <label class=\"btn btn-secondary\" *ngFor=\"let rating of ratings\">\r\n            <input type=\"radio\" name=\"ratingService\" [(ngModel)]=\"survey.ratingService\" [value]=\"rating\" required>\r\n            {{rating}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Os campos de avaliação -->\r\n      <div class=\"form-group\" style=\"margin-bottom: 10px;\">\r\n        <label for=\"ratingSupport\">Avalie do Atendimento</label>\r\n        <div class=\"btn-group btn-group-toggle d-flex justify-content-center\" data-toggle=\"buttons\">\r\n          <label class=\"btn btn-secondary\" *ngFor=\"let rating of ratings\">\r\n            <input type=\"radio\" name=\"ratingSupport\" [(ngModel)]=\"survey.ratingSupport\" [value]=\"rating\" required>\r\n            {{rating}}\r\n          </label>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- O campo de nome -->\r\n      <div class=\"form-group responsive-form-group\" style=\"margin-bottom: 10px;\">\r\n        <label for=\"nome\">Nome</label>\r\n        <input type=\"text\" id=\"nome\" [(ngModel)]=\"survey.nome\" name=\"nome\" class=\"form-control\" placeholder=\"Opcional\">\r\n      </div>\r\n\r\n      <!-- O campo de email -->\r\n      <div class=\"form-group responsive-form-group\" style=\"margin-bottom: 10px;\">\r\n        <label for=\"email\">E-mail</label>\r\n        <input type=\"email\" id=\"email\" [(ngModel)]=\"survey.email\" name=\"email\" class=\"form-control\"\r\n          placeholder=\"Opcional\">\r\n        <div *ngIf=\"showInvalidEmailAlert\" class=\"alert alert-warning\">\r\n          O e-mail enviado é inválido.\r\n        </div>\r\n      </div>\r\n\r\n      <!-- O campo de comentários -->\r\n      <div class=\"form-group responsive-form-group\" style=\"margin-bottom: 10px;\">\r\n        <label for=\"comments\">Comentários</label>\r\n        <textarea id=\"comments\" [(ngModel)]=\"survey.comments\" name=\"comments\" class=\"form-control\"\r\n          placeholder=\"Deixe aqui seu elogio, reclamação ou sugestão.\"></textarea>\r\n      </div>\r\n\r\n      <!-- Alerta de formulário enviado -->\r\n      <div *ngIf=\"showEmailSentAlert\" class=\"alert alert-success mt-4\">\r\n        Formulário enviado com sucesso!\r\n      </div>\r\n\r\n      <!-- O botão de envio -->\r\n      <div class=\"text-center mt-4\">\r\n        <button type=\"submit\" class=\"btn btn-primary\">Enviar</button>\r\n        </div>\r\n\r\n\r\n\r\n        </form>\r\n        </div>\r\n        </div>\r\n        <div #endForm></div>\r\n","// satisfaction-survey.component.ts\r\nimport { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\r\nimport { SatisfactionSurvey } from './satisfaction-survey.interface';\r\nimport { FeedbackService } from '../feedback.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-satisfaction-survey',\r\n  templateUrl: './satisfaction-survey.component.html',\r\n  styleUrls: ['./satisfaction-survey.component.css']\r\n})\r\nexport class SatisfactionSurveyComponent implements OnInit, OnDestroy {\r\n  @ViewChild('endForm') private endForm: ElementRef | undefined;\r\n  survey: SatisfactionSurvey = {\r\n    ratingEstablishment: '',\r\n    ratingService: '',\r\n    ratingSupport: '',\r\n    comments: '',\r\n    nome: '',\r\n    email: ''\r\n  };\r\n\r\n  displaySurvey: boolean | undefined;\r\n  private subscription: Subscription | undefined;\r\n\r\n  ratings: string[] = ['Ruim', 'Regular', 'Bom', 'Ótimo'];\r\n  showInvalidEmailAlert: boolean = false;\r\n  showEmailSentAlert: boolean = false;\r\n\r\n  constructor(private feedbackService: FeedbackService) { }\r\n\r\n  ngOnInit() {\r\n    this.subscription = this.feedbackService.display$.subscribe(display => {\r\n      this.displaySurvey = display;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  submit() {\r\n    if (this.survey.email && !this.validateEmail(this.survey.email)) {\r\n      this.showInvalidEmailAlert = true;\r\n    } else {\r\n      this.showInvalidEmailAlert = false;\r\n    }\r\n    this.feedbackService.addFeedback(this.survey);\r\n    this.showEmailSentAlert = true;\r\n    this.survey = {\r\n      ratingEstablishment: '',\r\n      ratingService: '',\r\n      ratingSupport: '',\r\n      comments: '',\r\n      nome: '',\r\n      email: ''\r\n    };\r\n    setTimeout(() => {\r\n      this.endForm?.nativeElement.scrollIntoView({ behavior: 'smooth' });\r\n    });\r\n  }\r\n\r\n  validateEmail(email: string): boolean {\r\n    const emailRegex: RegExp = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    return emailRegex.test(email);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}